# Deployment Guide for NoCap Backend on Render

## Prerequisites
- GitHub repository with the Django backend code
- Render account (free tier available)

## Environment Variables Required

Set these environment variables in your Render service:

### Required API Keys (from your existing .env file)
- `OPENAI_API_KEY`: Your OpenAI API key for AI image detection
- `EXTRACTOR_API_KEY`: Your Extractor API key for fake news detection (97eb467b8ae65f155821a44df22fadbb051f2020)

### Production Settings
- `SECRET_KEY`: Auto-generated by Render (secure random string)
- `DEBUG`: Set to "False"
- `ALLOWED_HOSTS`: Set to your Render app URL (e.g., "nocap-backend.onrender.com,no-cap-sage.vercel.app")

## Deployment Steps

### Option 1: Using render.yaml (Recommended)
1. Push your code to GitHub
2. Connect your GitHub repository to Render
3. Render will automatically detect the `render.yaml` file and create a web service for your Django app
4. Add the required API keys as environment variables in the Render dashboard

### Option 2: Manual Setup
1. Create a new Web Service on Render
2. Connect your GitHub repository
3. Configure the service:
   - **Build Command**: `./build.sh`
   - **Start Command**: `gunicorn backend.wsgi:application`
   - **Environment**: Python 3
4. Set all required environment variables

## Post-Deployment
1. Your backend will be available at: `https://your-app-name.onrender.com`
2. Update your frontend to use this URL instead of localhost
3. Test all API endpoints:
   - Health check: `/api/health/`
   - Fake news detection: `/api/fake-news-detection/analyze/`
   - AI image detection: `/api/ai-image-detection/analyze_ai/`
   - Text AI detection: `/api/text-ai-detection/analyze/`

## CORS Configuration
The backend is configured to accept requests from:
- `https://no-cap-sage.vercel.app` (your frontend)
- `http://localhost:3000` (local development)
- `http://127.0.0.1:3000` (local development)

## Database
- This is a stateless API that doesn't require a persistent database
- Uses SQLite for local development only (for Django's internal requirements)
- No database setup needed for production deployment

## Static Files
- Static files are served using WhiteNoise
- Files are automatically collected during the build process

## Security Features
- HTTPS enforced in production
- Secure cookies enabled
- XSS protection enabled
- Content type sniffing protection
- HSTS headers configured
